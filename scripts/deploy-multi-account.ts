import hre, { ethers, upgrades } from "hardhat";

async function deployContract() {
  const factory = await ethers.getContractFactory("MultiAccount");
  const contract = await upgrades.deployProxy(factory, [
    "0xf42bF799DD9E70605083e38e5a3bd6AAe63A8516", // admin
    "0x6080346100a257601f61089138819003918201601f19168301916001600160401b038311848410176100a7578084926060946040528339810103126100a25761007261004a826100bd565b9161006c610066604061005f602085016100bd565b93016100bd565b936100d1565b5061014f565b50600180546001600160a01b0319166001600160a01b039290921691909117905560405161068190816101f08239f35b600080fd5b634e487b7160e01b600052604160045260246000fd5b51906001600160a01b03821682036100a257565b6001600160a01b031660008181527fad3228b676f7d3cd4284a5443f17f1962b36e491b30a40b2405849e597ba5fb5602052604081205490919060ff1661014b57818052816020526040822081835260205260408220600160ff1982541617905533916000805160206108718339815191528180a4600190565b5090565b6001600160a01b031660008181527f081a6c3498a23977d9558a3c1187597f39c32e9b6c65d6a44c1ae80593f4436060205260408120549091907febee9ae4283d502e7ed608f7bff6281dc40560c705aa66f8f31324862ed03f5a9060ff166101ea57808352826020526040832082845260205260408320600160ff19825416179055600080516020610871833981519152339380a4600190565b50509056fe608060408181526004908136101561001657600080fd5b600092833560e01c90816301569e3a146103f25750806301ffc9a71461039c578063248a9ca3146103725780632f2ff15d1461034a57806336568abe1461030357806359f6d392146102c857806362dfbb2e1461016b5780637278b28f1461014257806391d14854146100fc578063a217fddf146100dd5763d547741f1461009d57600080fd5b346100d957806003193601126100d9576100d591356100d060016100bf6104a1565b938387528660205286200154610514565b6105d6565b5080f35b8280fd5b8382346100f857816003193601126100f85751908152602090f35b5080fd5b5090346100d957816003193601126100d9578160209360ff9261011d6104a1565b903582528186528282206001600160a01b039091168252855220549151911615158152f35b8382346100f857816003193601126100f85760015490516001600160a01b039091168152602090f35b5082346102c557602092836003193601126100f857803567ffffffffffffffff81116100d957366023820112156100d95780820135916101b26101ad846104f8565b6104bc565b928084528684019236602483830101116102c15781869260248a93018637850101527febee9ae4283d502e7ed608f7bff6281dc40560c705aa66f8f31324862ed03f5a808552848752858520338652875260ff8686205416156102a45750506001549151839283929083906001600160a01b03165af1923d15610299573d61023c6101ad826104f8565b9081523d838383013e929093915b815194859315158452828185015284518093850152815b83811061028257505060608094508284010152601f80199101168101030190f35b808601820151878201606001528694508101610261565b60609290939161024a565b6044925085519163e2517d3f60e01b835233908301526024820152fd5b8580fd5b80fd5b8382346100f857816003193601126100f857602090517febee9ae4283d502e7ed608f7bff6281dc40560c705aa66f8f31324862ed03f5a8152f35b508290346100f857806003193601126100f85761031e6104a1565b90336001600160a01b0383160361033b57506100d59192356105d6565b5163334bd91960e11b81528390fd5b50346100d957806003193601126100d9576100d5913561036d60016100bf6104a1565b610558565b5090346100d95760203660031901126100d957816020936001923581528085522001549051908152f35b5090346100d95760203660031901126100d957359063ffffffff60e01b82168092036100d95760209250637965db0b60e01b82149182156103e1575b50519015158152f35b6301ffc9a760e01b149150386103d8565b929190503461049d57602036600319011261049d576001600160a01b038235818116949193908590036102c1578580528560205282862033875260205260ff8387205416156104825750507ff78ccdf5924090b2ab6627ac5da4ec5affed73d47c6bc6c8a4620a0d5ed57bc8906001549281519084168152846020820152a16001600160a01b0319161760015580f35b63e2517d3f60e01b8252339082015260248101859052604490fd5b8380fd5b602435906001600160a01b03821682036104b757565b600080fd5b6040519190601f01601f1916820167ffffffffffffffff8111838210176104e257604052565b634e487b7160e01b600052604160045260246000fd5b67ffffffffffffffff81116104e257601f01601f191660200190565b80600052600060205260406000203360005260205260ff604060002054161561053a5750565b6044906040519063e2517d3f60e01b82523360048301526024820152fd5b9060009180835282602052604083209160018060a01b03169182845260205260ff604084205416156000146105d157808352826020526040832082845260205260408320600160ff198254161790557f2f8788117e7eff1d82e926ec794901d17c78024a50270940304540a733656f0d339380a4600190565b505090565b9060009180835282602052604083209160018060a01b03169182845260205260ff6040842054166000146105d15780835282602052604083208284526020526040832060ff1981541690557ff6391f5c32d9c69d2a47ea670b442974b53935d1edc7fd64eb21e047a839171b339380a460019056fea2646970667358221220611a99e9df2fbdfc65494ca61f9b435cde4991dd07efee20da1380ed7af2e91164736f6c634300081400332f8788117e7eff1d82e926ec794901d17c78024a50270940304540a733656f0d", // accountImplementation
  ]);
  await contract.deployed();
  try {
    await hre.run("verify:verify", {
      address: contract.address
    });
  } catch {
    console.log("Failed to verify");
  }
  console.log("Contract deployed at:", contract.address);
}

deployContract()
  .then(() => {
    console.log("done");
  })
  .catch(console.log);
